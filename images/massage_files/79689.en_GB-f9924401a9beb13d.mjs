"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[79689],{81636:(e,t,i)=>{i.d(t,{Q:()=>a,Z:()=>d});var r=i(667294),n=i(112690),s=i(385740),o=i(767546),l=i(780280);function a(e,t){let{setViewContextData:i}=(0,s.sV)(),{requestIdentifier:a}=(0,l.B)(),d=(0,n.Z)(),{viewData:c}=(0,s.SU)();(0,r.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,o.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))},[t])}function d(e){let{children:t,log:i}=e;return a(i),t||null}},11363:(e,t,i)=>{i.d(t,{Bx:()=>n,N4:()=>o,is:()=>l,lt:()=>r,oM:()=>s});let r=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),n=e=>e.bt("Log in to save this Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),s=e=>e.bt("Log in to edit this Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),l=e=>e.bt("Log in to create a Pin or board", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},946984:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(11363),n=i(898781),s=i(987318);let o=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:i}=(0,s.H)(),o=(0,n.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),i?.setText(t?.loginModalHeader||r.lt(o))}}},320415:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(667294),n=i(702664),s=i(112690),o=i(332611),l=i(214494);let a=(e,t,i,r)=>(n,s)=>a=>{if(n&&n.id){let d=l.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{a((0,o.fO)()),i&&r&&i({event_type:r,object_id_str:n.id.toString()})});break;case"completed":d.callUpdate().then(()=>{s||a((0,o.fO)()),i&&r&&i({event_type:r,object_id_str:n.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{i&&r&&i({event_type:r,object_id_str:n.id.toString()})})}}},d=e=>a("UserExperienceCompletedResource","completed",e,6567),c=a("UserExperienceResource","dismissed"),p=e=>a("UserExperienceViewedResource","viewed",e,4503);var u=i(785893);function h(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends r.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:i,viewExperience:r,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):i?r(e.placement_id,e.experience_id,i):r(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:i,experience:r,isBackendExperience:n,preventRemoval:s,targeting:o}=this.props,l=e||1;if(r&&!this.state.hasCompleted.includes(r.experience_id)){let{placement_id:e,experience_id:a}=r||{},d=s||2===l;(1===l||d)&&e&&a&&(n?i(r,d):o?t(e,a,d,o):t(e,a,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,a]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:r,preventRemoval:n,targeting:s}=this.props,{placement_id:o,experience_id:l}=i||{};i&&!this.state.hasDismissed.includes(l)&&(r?t(i):s?e(o,l,!!n,s):e(o,l,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),h(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:i,predicate:r,transitionType:n}=this.props,{experience_id:s,type:o}=e;return t&&t.length?t.includes(s):i&&i.length?i.includes(o):r?r(e):!n||n===o})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,i=this.props.experience;i&&this.isEligibleExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):r.Children.only(e):null}}function _(e){let t=(0,n.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),i=(0,n.useDispatch)(),r=(0,o.be)(),l=(0,o.Am)(),a=(0,o.Ig)(),h=(0,s.Z)();return(0,u.jsx)(m,{...e,completeExperience:(e,t,n,s)=>i(r(e,t,n,!1,{},s)),completeExperienceObject:(e,t)=>i(d(h)(e,t)),dismissExperience:(e,t,r,n)=>i(l(e,t,r,void 0,n)),dismissExperienceObject:e=>i(c(e)),experience:t,viewExperience:(e,t,r)=>i(a(e,t,!1,!1,void 0,r)),viewExperienceObject:e=>i(p(h)(e))})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},332611:(e,t,i)=>{let r;i.d(t,{Am:()=>x,Ig:()=>_,N:()=>y,Sd:()=>f,YX:()=>b,be:()=>g,fO:()=>u,kd:()=>v,pz:()=>h});var n=i(667294),s=i(214494),o=i(112690),l=i(764990),a=i(957191),d=i(186656),c=i(67347);let p=(e,t,i={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:i}),u=(e,t)=>i=>{let r=t?{extra_context:e,targeting:t}:{extra_context:e};return s.Z.create("UserExperiencePlatformResource",r).callGet().then(e=>e.resource_response?i((0,a.OD)(e.resource_response.data)):void 0)},h=(e,t,i,n)=>(o,d)=>{if(t)return Promise.resolve();if(n&&(r=n),1===e.length){let t=e[0],r=d().experiences,n=r[t],s=n?.extraContext||null;if(JSON.stringify(s)===JSON.stringify(i)||(0,l.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return s.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:n}).callGet().then(e=>e.resource_response?o((0,a.cL)(e.resource_response.data)):void 0)},m=(e,t,i,n)=>(o,l,d,c=!1,p,h)=>(m,_)=>{let{experiences:g,experiencesMulti:x}=_(),f=null,v=!0;if(c||(f=(v=g[o]&&g[o].experience_id===l)?g[o]:Array.isArray(x[o])&&x[o]?.find(e=>e.experience_id===l)),f&&f.experience_id===l||c&&o&&l){let c=s.Z.create(e,{placed_experience_id:`${o}%3A${l}`,extra_context:p??{},targeting:h}),_=v?a.Yb:a.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{m(_(o,l,t)),m(u(void 0,r)),i&&n&&i({event_type:n,object_id_str:l.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(m(_(o,l,t)),m(u(void 0,r)),i&&n&&i({event_type:n,object_id_str:l.toString()}))});case"viewed":return m(_(o,l,t)),c.callUpdate().then(()=>{1000162===o&&m(u()),i&&n&&i({event_type:n,object_id_str:l.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||m(_(o,l,t)),i&&n&&i({event_type:n,object_id_str:l.toString()})})}}return Promise.resolve()},_=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e]);return t},g=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e]);return t},x=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e]);return t},f=()=>{let e=(0,o.Z)(),t=(0,n.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},v=(e,t)=>(i,r)=>{let{experiences:n}=r(),s=n[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach(i=>{let[,r]=i.split(":"),n=t;s.metadata&&s.metadata[r]&&(n={...t,...s.metadata[r]}),(0,d.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{p("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})})})},b=e=>(t,i)=>{t(v(e));let{experiences:r}=i();return r[e]},y=(e,t,i)=>n=>{i&&(r=i),n(v(e,t)),t&&Object.keys(t).length>0&&n(h([e],!1,t,i))}},764990:(e,t,i)=>{i.d(t,{A0:()=>a,E3:()=>o,MQ:()=>l,fL:()=>d});var r=i(883119),n=i(149230),s=i(785893);function o(e){return!!e&&0!==e.type}let l=(e,t,i)=>{let r=e[i];return t[i]&&o(r)?r:null};function a(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser,i=t.parseFromString(e,"text/html"),o=[...i.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,s.jsx)(r.xv,{inline:!0,children:e.textContent});{let t=e.href||"",i=(0,n.Z)({url:t});return(0,s.jsx)(r.rU,{display:"inline",externalLinkIcon:i?"default":"none",href:t,rel:i?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,s.jsx)(r.xv,{inline:!0,children:o})}},207737:(e,t,i)=>{i.d(t,{$S:()=>r,V$:()=>n,_4:()=>o,iY:()=>l,mR:()=>s});let r="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:(e,t,i)=>{i.d(t,{NW:()=>l,OD:()=>d,Yb:()=>a,cL:()=>c,xW:()=>o});var r=i(214494),n=i(207737);let s=e=>({type:n.$S,payload:{experiencesMulti:e}}),o=(e,t,i)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:i}}),l=e=>t=>r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(s(e.resource_response.data)):void 0),a=(e,t,i)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:i}}),d=e=>({type:n._4,payload:{experiences:e}}),c=e=>({type:n.mR,payload:{experiences:e}})},570470:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(883119),n=i(667294),s=i(785893);let o=(e,t,i,r)=>({horizontalOffset:-(r/2-t/2),verticalOffset:-(i/2-e/2)});function l({anchor:e,children:t,zIndex:i,leftOverride:l,topOverride:a}){let d=(0,n.useRef)(null),[c,p]=(0,n.useState)(0),[u,h]=(0,n.useState)(0),{height:m,width:_}=e.getBoundingClientRect();return(0,n.useEffect)(()=>{let{current:t}=d;if(e&&t){let{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:r,verticalOffset:n}=o(m,_,e,i);p(r),h(n)}}),(0,s.jsx)(r.xu,{ref:d,dangerouslySetInlineStyle:{__style:{left:l||c,top:a||u}},"data-test-id":"center-box",position:"absolute",zIndex:i?new r.Ry(i):void 0,children:t})}let a=function(e){let{anchor:t,leftOverride:i,onTouch:n,onMouseEnter:o,paused:a,size:d,topOverride:c,zIndex:p}=e;return t?(0,s.jsx)(l,{anchor:t,leftOverride:i,topOverride:c,zIndex:p,children:(0,s.jsx)(r.iP,{fullWidth:!1,onMouseEnter:o,onTap:({event:e})=>n(e),rounding:"circle",children:(0,s.jsx)(r.o3,{paused:a,size:d})})}):null}},898781:(e,t,i)=>{i.d(t,{ZP:()=>l,oz:()=>s,q6:()=>n});var r=i(425288);let{Provider:n,Consumer:s,useHook:o}=(0,r.Z)("i18n"),l=o},767546:(e,t,i)=>{i.d(t,{Z:()=>function e(t,i,r=()=>void 0){let n=r(t,i);return void 0!==n?n:void 0===i?t:Array.isArray(t)&&Array.isArray(i)?i.reduce((t,n,s)=>(t[s]=e(t[s],i[s],r),t),[...t]):t&&"object"==typeof t&&i&&"object"==typeof i?Object.keys(i).reduce((t,n)=>(t[n]=e(t[n],i[n],r),t),{...t}):i}})},70061:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},430323:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(667294),n=i(722767),s=i(558068),o=i(780280),l=i(239745),a=i(245474),d=i(425288);let{Provider:c,useMaybeHook:p}=(0,d.Z)("timeSpentContext");var u=i(790123),h=i(350118),m=i(785893);function _(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends r.Component{constructor(e){super(e),_(this,"componentWillUnmount",()=>{this.unregisterComponent()}),_(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:r,timeSpentContext:n,view:s,viewParameter:o}=this.props;return{view:s||n?.view,viewParameter:o||n?.viewParameter,component:t||n?.component,element:i,objectId:r||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),_(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),_(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),_(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),_(this,"getTimedPair",()=>this.state.timedPair),_(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),_(this,"isRegistered",!1),_(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),_(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),_(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:r,right:n,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===r&&0===n&&0===s?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new a.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,m.jsx)(c,{value:this.getContext(),children:(0,m.jsx)(n.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}function x(e){let t=(0,s.Hv)(),i=p(),n=(0,u.w)(),l=(0,h.H0)(),{requestIdentifier:a=""}=(0,o.B)(),d={app_instance_id:a.slice(0,8),...e.auxData??{}};return(0,r.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,r.useEffect)(()=>{n?.setPins(l??{})},[l,n]),n?(0,m.jsx)(g,{...e,auxData:d,timeSpentContext:i,timeSpentManager:n,children:e.children}):e.children}x.displayName="TimeSpent";let f=x},149230:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(954931);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,r.Z)(e))},977558:(e,t,i)=>{i.d(t,{L1:()=>s,Rz:()=>a,WZ:()=>o,cI:()=>n,fe:()=>l,hu:()=>r});let r=64,n=80,s=22,o="HeaderContent",l=671,a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},99137:(e,t,i)=>{i.d(t,{x:()=>l,y:()=>a});var r=i(667294),n=i(425288),s=i(785893);let{Provider:o,useMaybeHook:l}=(0,n.Z)("ProfileViewContext");function a({children:e}){let[t,i]=(0,r.useState)(),[n,l]=(0,r.useState)(new Map),[a,d]=(0,r.useState)(),[c,p]=(0,r.useState)(),[u,h]=(0,r.useState)(0),m=(0,r.useCallback)((e,t)=>{l(new Map(n.set(e,t)))},[n]),_=(0,r.useMemo)(()=>({boardPinDensity:t,boardSortOrder:n,profileBoardView:a,profilePinDensity:c,profileFollowingSelectedIndex:u,setBoardPinDensity:i,updateBoardSortOrder:m,setProfileBoardView:d,setProfilePinDensity:p,setProfileFollowingSelectedIndex:h}),[t,n,a,c,u,m]);return(0,s.jsx)(o,{value:_,children:e})}},935268:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(883119),n=i(785893);function s(e){let{accessibilityLabel:t,bgColor:i,icon:s,onClick:o,selected:l,size:a}=e;return(0,n.jsx)(r.hU,{accessibilityLabel:t,bgColor:i??"transparent",icon:s,iconColor:"darkGray",onClick:o,selected:l,size:a??"lg"})}},652602:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(667294),n=i(883119),s=i(935268),o=i(785893);function l({bgColor:e,children:t,icon:i,label:l,size:a,id:d}){let c=(0,r.useRef)(null),[p,u]=(0,r.useState)(!1),h=()=>u(!1);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(n.xu,{ref:c,"data-test-id":d,children:(0,o.jsx)(s.Z,{accessibilityLabel:l,bgColor:e,icon:i,onClick:()=>u(!p),selected:p,size:a})}),p&&(0,o.jsx)(n.Lt,{anchor:c.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:h,zIndex:new n.Ry(1e3),children:t({handleClose:h})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/79689.en_GB-f9924401a9beb13d.mjs.map